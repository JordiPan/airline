{% extends 'base.html.twig' %}
{% block carousel %}
    <div id="carouselExampleSlidesOnly" class="carousel slide" data-ride="carousel" data-interval="3000" style="position: fixed; width: 100%;">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img class="d-block w-100 " src="{{ asset('images/fly1.png') }}" alt="First slide" style="height: 43em; filter: blur(10px); -webkit-user-drag: none; -webkit-user-select: none;">
            </div>
            <div class="carousel-item">
                <img class="d-block w-100" src="{{ asset('images/fly2.jpg') }}" alt="Second slide" style="height: 43em;  filter: blur(10px); -webkit-user-drag: none;-webkit-user-select: none;">
            </div>
            <div class="carousel-item">
                <img class="d-block w-100" src="{{ asset('images/fly3.jpg') }}" alt="Third slide" style="height: 43em;  filter: blur(10px); -webkit-user-drag: none;-webkit-user-select: none;">
            </div>
            <div class="carousel-item">
                <img class="d-block w-100" src="{{ asset('images/never.jpg') }}" alt="Third slide" style="height: 43em;  filter: blur(10px); -webkit-user-drag: none;-webkit-user-select: none;">
            </div>
        </div>
    </div>
{% endblock %}

{% block body %}

    <div style="
    background-color:rgba(0, 0, 0, 0.6);
    padding: 1rem;
    margin-top: 0.5rem;
   position: relative;
   border-radius: 1rem;
   color: white;
">
        <h3 class="text-center">Find your trip to paradise!</h3>
        {{ form_start(form) }}
        {{ form_row(form.trip,{'id': 'trip'}) }}
        {{ form_row(form.alone_or_group,{'id': 'size'}) }}
        <div class="row">
            <div class="col">
                {{ form_row(form.beginAirport) }}
            </div>
            <div class="col">
                {{ form_row(form.destination) }}
            </div>
        </div>
        {{ form_row(form.date) }}

        <div id="returnDate">
            {{ form_row(form.returnDate, {'id': 'returnValue'}) }}
        </div>
        <div id="groupSize">
            {{ form_row(form.group, {'id': 'groupValue'}) }}
        </div>
        <button class="btn btn-info" style="width: 100%;margin-top: 1em;" type="submit">Go</button>
        {{ form_end(form) }}
    </div>

    <script>
        let trip = document.getElementById('trip');
        let size = document.getElementById('size');

        trip.addEventListener('change', function () {
           let option = trip.options[trip.selectedIndex].text;
           let el = document.getElementById('returnDate');

           if (option === 'Return trip') {
               let date = document.getElementById('returnValue');
               date.required = true;
               date.valueAsDate = new Date();
               el.style.display = 'block';
           }
           else if(option === 'One way') {
               let date = document.getElementById('returnValue');
               date.required = false;
               date.value = null;
               el.style.display = 'none';
           }
        });

        size.addEventListener('change', function () {
            let option = size.options[size.selectedIndex].text;
            let el = document.getElementById('groupSize');

            if (option === 'group') {
                let groupSize = document.getElementById('groupValue');
                groupSize.required = true;
                el.style.display = 'block';
            }
            else if(option === 'alone') {
                let groupSize = document.getElementById('groupValue');
                groupSize.required = false;
                groupSize.value = null;
                el.style.display = 'none';
            }
        });
    </script>
{% endblock %}